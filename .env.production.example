# Production Environment Variables for VPS Deployment
# Copy this file to .env.production and fill in your values

# ============================================
# PostgreSQL Configuration (Docker Internal)
# ============================================
# Database name is hardcoded as 'advent_calendar' in docker-compose.yml
# These credentials are used by both the postgres service
# and to construct the DATABASE_URL for the app
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD

# ============================================
# AWS S3 Configuration (REQUIRED)
# ============================================
AWS_REGION=eu-central-1
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY_ID
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_ACCESS_KEY
AWS_S3_BUCKET_NAME=your-bucket-name

# ============================================
# CloudFront CDN Configuration (REQUIRED)
# ============================================
# NEXT_PUBLIC_CDN_URL: Your CloudFront distribution URL (used for signed URLs)
# Should NOT have a trailing slash
NEXT_PUBLIC_CDN_URL=https://your-cloudfront-domain.cloudfront.net

# CloudFront Signed URL Configuration (REQUIRED for private S3 buckets)
# Get these from AWS CloudFront console after creating a key pair
# See: https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-trusted-signers.html
CLOUDFRONT_KEY_PAIR_ID=YOUR_CLOUDFRONT_KEY_PAIR_ID
# CLOUDFRONT_PRIVATE_KEY should be the full RSA private key (including header/footer)
# In production, use multiline format:
# CLOUDFRONT_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----
# MIIEpAIBAAKCAQEA...
# ...
# -----END RSA PRIVATE KEY-----"
CLOUDFRONT_PRIVATE_KEY=YOUR_CLOUDFRONT_PRIVATE_KEY

# ============================================
# Kinde Authentication (REQUIRED)
# ============================================
# Get these values from your Kinde dashboard at https://kinde.com
# Create a new application in Kinde and copy the credentials
KINDE_CLIENT_ID=your_kinde_client_id
KINDE_CLIENT_SECRET=your_kinde_client_secret
KINDE_ISSUER_URL=https://your-subdomain.kinde.com
KINDE_SITE_URL=https://your-production-domain.com
KINDE_POST_LOGOUT_REDIRECT_URL=https://your-production-domain.com
KINDE_POST_LOGIN_REDIRECT_URL=https://your-production-domain.com

# Kinde M2M (Machine-to-Machine) credentials for Management API
# Required for admin user management features
# Create an M2M application in Kinde and enable "read:users" permission
KINDE_M2M_CLIENT_ID=your_m2m_client_id
KINDE_M2M_CLIENT_SECRET=your_m2m_client_secret

# ============================================
# Notes
# ============================================
# 1. DATABASE_URL is automatically constructed: postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/advent_calendar
# 2. Change POSTGRES_PASSWORD to a secure random password in production
# 3. Never commit .env.production to git
# 4. For Kinde M2M app, ensure you grant "read:users" permission in Kinde dashboard
# 5. Update all URLs to use your production domain (not localhost)
